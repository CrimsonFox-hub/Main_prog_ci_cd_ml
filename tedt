# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/your-org/Main_prog_ci_cd_ml
cd Main_prog_ci_cd_ml

# 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
make init
source venv/bin/activate

# 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

# 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DVC (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è S3/MinIO)
dvc remote add -d minio s3://dvc-bucket
dvc remote modify minio endpointurl http://localhost:9000
dvc remote modify minio access_key_id minioadmin
dvc remote modify minio secret_access_key minioadmin

–≠—Ç–∞–ø 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (10 –º–∏–Ω—É—Ç)
bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/your-org/Main_prog_ci_cd_ml
cd Main_prog_ci_cd_ml

# 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
make init
source venv/bin/activate

# 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

# 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DVC (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è S3/MinIO)
dvc remote add -d minio s3://dvc-bucket
dvc remote modify minio endpointurl http://localhost:9000
dvc remote modify minio access_key_id minioadmin
dvc remote modify minio secret_access_key minioadmin
–≠—Ç–∞–ø 1: –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (15 –º–∏–Ω—É—Ç)
bash
# 1. –ó–∞–ø—É—Å–∫ –±–∞–∑–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make up

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps

# 3. –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
make data-download
make data-process
make dvc-push

# –°–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:
# - API: http://localhost:8000/docs
# - MLflow: http://localhost:5000
# - MinIO: http://localhost:9001
# - PostgreSQL: localhost:5432
# - Redis: localhost:6379
–≠—Ç–∞–ø 2: –û–±—É—á–µ–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ (30 –º–∏–Ω—É—Ç)
bash
# 1. –û–±—É—á–µ–Ω–∏–µ –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏
make train

# 2. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ ONNX –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
python src/ml_pipeline/training/onnx_conversion.py

# 3. –ë–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
make benchmark

# 4. –í–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–∏
pytest tests/unit/test_model_inference.py -v

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
# - –ú–æ–¥–µ–ª—å: models/trained/credit_scoring.onnx
# - –û—Ç—á–µ—Ç: reports/conversion_final_report.json
# - –ú–µ—Ç—Ä–∏–∫–∏: MLflow (http://localhost:5000)
–≠—Ç–∞–ø 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (20 –º–∏–Ω—É—Ç)
bash
# 1. –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
make test-unit

# 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã API
make test-integration

# 3. –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make test-load

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
make lint

# 5. End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
pytest tests/e2e/ -v

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
# - –û—Ç—á–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏—è: htmlcov/index.html
# - –û—Ç—á–µ—Ç –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: reports/load_test.html
–≠—Ç–∞–ø 4: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Staging (1 —á–∞—Å)
bash
# 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Terraform
cd infrastructure/environments/staging
terraform init

# 2. –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞–Ω–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
terraform plan

# 3. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
make infra-apply

# 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ kubectl
export KUBECONFIG=$(pwd)/kubeconfig-staging.yaml
kubectl cluster-info

# 5. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
make deploy-staging

# 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
kubectl apply -f kubernetes/monitoring-stack/

# 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
kubectl get all -n staging
kubectl get ingress -n staging

# 8. Smoke —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
curl https://staging-api.your-domain.com/api/v1/health
–≠—Ç–∞–ø 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD (30 –º–∏–Ω—É—Ç)
bash
# 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
# –î–æ–±–∞–≤—å—Ç–µ:
# - AWS_ACCESS_KEY_ID
# - AWS_SECRET_ACCESS_KEY
# - KUBECONFIG_STAGING (base64)
# - KUBECONFIG_PRODUCTION (base64)
# - DOCKERHUB_TOKEN
# - SLACK_WEBHOOK_URL

# 2. Push –∫–æ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞
git add .
git commit -m "Initial deployment"
git push origin main

# 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–π–ø–ª–∞–π–Ω–∞ –≤ GitHub Actions
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É Actions –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
# –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ staging
–≠—Ç–∞–ø 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞ (45 –º–∏–Ω—É—Ç)
bash
# 1. –ó–∞–ø—É—Å–∫ Prometheus –∏ Grafana
make monitor

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∞—à–±–æ—Ä–¥–æ–≤ –≤ Grafana
# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞—à–±–æ—Ä–¥—ã –∏–∑ kubernetes/monitoring-stack/grafana/dashboards/

# 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤
make setup-alerts

# 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥—Ä–∏—Ñ—Ç–∞
python src/ml_pipeline/monitoring/drift_detection.py --setup

# 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
kubectl apply -f kubernetes/monitoring-stack/loki/

# –î–æ—Å—Ç—É–ø –∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É:
# - Grafana: http://localhost:3000 (admin/admin)
# - Prometheus: http://localhost:9090
# - Alertmanager: http://localhost:9093
–≠—Ç–∞–ø 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Airflow –¥–ª—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è (30 –º–∏–Ω—É—Ç)
bash
# 1. –ó–∞–ø—É—Å–∫ Airflow
docker-compose up airflow

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –≤ Airflow UI
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8080 (admin/admin)
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Connections:
# - postgres_conn (PostgreSQL)
# - kubernetes_conn (Kubernetes)
# - s3_conn (MinIO/S3)

# 3. –ê–∫—Ç–∏–≤–∞—Ü–∏—è DAG
# –í–∫–ª—é—á–∏—Ç–µ DAG 'credit_scoring_retraining'

# 4. –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
make retrain

# 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
# –°–ª–µ–¥–∏—Ç–µ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –≤ Airflow UI
–≠—Ç–∞–ø 8: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Production (1 —á–∞—Å)
bash
# 1. –°–æ–∑–¥–∞–Ω–∏–µ production –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
cd infrastructure/environments/production
terraform init
terraform plan
make infra-apply-prod

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ production –∫–ª–∞—Å—Ç–µ—Ä–∞
export KUBECONFIG=$(pwd)/kubeconfig-production.yaml

# 3. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å blue-green —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
make deploy-production

# 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Canary —Ä–µ–ª–∏–∑–∞
kubectl apply -f kubernetes/canary/

# 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ production
kubectl get all -n production
kubectl get hpa -n production

# 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –∏ SSL
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Ingress –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
–≠—Ç–∞–ø 9: –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞ (2 —á–∞—Å–∞)
bash
# 1. –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –æ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–æ production
make full-pipeline

# 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
./scripts/run_full_integration_test.sh

# 3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
make generate-docs

# 4. –°–æ–∑–¥–∞–Ω–∏–µ backup
make backup-models

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∞–ª–µ—Ä—Ç–æ–≤
# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
–≠—Ç–∞–ø 10: –î–ª–∏—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ)
bash
# 1. –ó–∞–ø—É—Å–∫ soak —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
locust -f tests/load/locustfile.py --headless -u 100 -r 10 -t 24h --csv=reports/soak_test

# 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥—Ä–∏—Ñ—Ç–∞
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
python src/ml_pipeline/monitoring/drift_detection.py --schedule daily

# 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
# –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CPU/–ø–∞–º—è—Ç–∏
kubectl top pods -n production

# 4. –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Loki/Grafana –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤
# –ü–æ–∏—Å–∫ –∞–Ω–æ–º–∞–ª–∏–π –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

# 5. –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
# –∏–ª–∏ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –¥—Ä–∏—Ñ—Ç–∞
üîß –ï–ñ–ï–î–ù–ï–í–ù–´–ï –û–ü–ï–†–ê–¶–ò–ò
bash
# –£—Ç—Ä–µ–Ω–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (5 –º–∏–Ω—É—Ç)
make status
curl https://api.your-domain.com/api/v1/health
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Grafana dashboards

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥—Ä–∏—Ñ—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
# –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00 –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤ (10 –º–∏–Ω—É—Ç)
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Slack/Email –∞–ª–µ—Ä—Ç—ã
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Alertmanager: http://alertmanager:9093

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
# DVC –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π backup –º–æ–¥–µ–ª–µ–π –∏ –¥–∞–Ω–Ω—ã—Ö
üö® –ê–í–ê–†–ò–ô–ù–û–ï –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï
bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
make status

# 2. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make logs

# 3. –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
./scripts/deployment/rollback.sh --version previous

# 4. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
kubectl scale deployment/credit-scoring-api --replicas=10 -n production

# 5. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ backup –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
./scripts/database/switch_to_backup.sh

# 6. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backup
make restore-models