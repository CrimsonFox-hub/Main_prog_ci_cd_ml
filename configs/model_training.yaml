# Конфигурация обучения нейронной сети
data:
  source: "data/processed/train.csv"
  target_column: "default"
  test_size: 0.2
  validation_size: 0.1
  
  preprocessing:
    numerical:
      strategy: "standard"
      missing: "median"
    categorical:
      strategy: "onehot"
      missing: "mode"

model:
  type: "neural_network"
  version: "2.0.0"
  
  neural_network:
    architecture: "simple"
    hidden_layers: [128, 64, 32]
    dropout: 0.3
    activation: "relu"
    output_activation: "sigmoid"
    batch_norm: true
    weight_decay: 0.0001

  onnx_export:
    enabled: true
    opset_version: 14
    dynamic_axes:
      input: [0]
      output: [0]
    optimization:
      enable_quantization: true
      quantization_type: "int8"
      enable_pruning: false
      pruning_rate: 0.2

training:
  batch_size: 32
  epochs: 100
  learning_rate: 0.001
  optimizer: "adam"
  scheduler: "plateau"
  early_stopping_patience: 10
  random_seed: 42
  
  hyperparameter_tuning:
    enabled: true
    method: "random"
    n_iter: 20
    cv_folds: 5
    params:
      learning_rate: [0.0001, 0.001, 0.01]
      hidden_layers: [[64, 32], [128, 64], [256, 128, 64]]
      dropout: [0.2, 0.3, 0.4]

evaluation:
  metrics: ["accuracy", "precision", "recall", "f1", "roc_auc", "pr_auc"]
  threshold: 0.5
  
  cross_validation:
    enabled: true
    folds: 5

export:
  formats: ["pth", "onnx", "joblib"]
  quantization: true
  optimize: true
  
  mlflow:
    enabled: true
    registry_model_name: "credit-scoring-neural-network"
    stage: "Production"

monitoring:
  data_drift:
    enabled: true
    reference_dataset: "train"
    threshold: 0.3
    
  model_drift:
    enabled: true
    window_size: 1000
    threshold: 0.2
  
  performance_decay:
    enabled: true
    threshold: 0.05